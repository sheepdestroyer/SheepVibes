{"id": 25, "timestamp": "2025-10-06T22:39:14.312297", "source": "agent", "message": "I read the file /workspace/SheepVibes/.openhands/microagents/sheepvibes-rules.md.", "cause": 24, "observation": "read", "tool_call_metadata": {"function_name": "str_replace_editor", "tool_call_id": "toolu_09", "model_response": {"id": "gen-1759790343-Qhgq6Bnu9rst3hbU9U3E", "created": 1759790343, "model": "deepseek/deepseek-v3.2-exp", "object": "chat.completion", "system_fingerprint": null, "choices": [{"finish_reason": "stop", "index": 0, "message": {"content": "Now let me check the existing microagent file to understand the structure and avoid duplication.", "role": "assistant", "tool_calls": [{"index": 1, "function": {"arguments": "{\"command\": \"view\", \"path\": \"/workspace/SheepVibes/.openhands/microagents/sheepvibes-rules.md\", \"security_risk\": \"LOW\"}", "name": "str_replace_editor"}, "id": "toolu_09", "type": "function"}], "function_call": null}, "provider_specific_fields": {"native_finish_reason": "stop"}}], "usage": {"completion_tokens": 78, "prompt_tokens": 21691, "total_tokens": 21769, "completion_tokens_details": null, "prompt_tokens_details": null}, "provider": "DeepInfra"}, "total_calls_in_response": 1}, "content": "Here's the result of running `cat -n` on /workspace/SheepVibes/.openhands/microagents/sheepvibes-rules.md:\n     1\t---\n     2\tname: SheepVibes Rules\n     3\ttype: knowledge\n     4\tversion: 1.0.0\n     5\tagent: CodeActAgent\n     6\ttriggers: []\n     7\t---\n     8\t\n     9\t# SheepVibes Repository Rules and Guidelines\n    10\t\n    11\tThis microagent provides comprehensive knowledge about the SheepVibes RSS/Atom feed aggregator repository, including development workflows, testing requirements, and deployment procedures.\n    12\t\n    13\t## Core Rules for AI Agents\n    14\t\n    15\t### Mandatory Workflow Steps\n    16\t1. **Read all `.md` files** from the repository before starting any task\n    17\t2. **Read both backend & frontend code files** to understand the application's logic\n    18\t3. **For each individual step** during a task:\n    19\t   - Add new relevant tests to the test suite\n    20\t   - Verify pre-existing tests are still valid, correct if necessary\n    21\t4. **Execute full CI workflow** as described in `.github/workflows/run-tests.yml`\n    22\t5. **Before task completion**:\n    23\t   - Run final full validation of all tests\n    24\t   - Update relevant `.md` files (especially `TODO.md` and `CHANGELOG.md`)\n    25\t\n    26\t### Testing Requirements\n    27\t- **Backend tests** require a running Redis service container\n    28\t- **Dynamic port handling** - Redis port is dynamically mapped in CI environments\n    29\t- **Environment variable**: Tests look for `CACHE_REDIS_PORT` to override default Redis port\n    30\t- **Full test suite execution** is mandatory before proceeding to next steps\n    31\t\n    32\t## Application Architecture\n    33\t\n    34\t### Backend (Python/Flask)\n    35\t- **Framework**: Flask with SQLAlchemy ORM\n    36\t- **Database**: SQLite with migrations\n    37\t- **Caching**: Redis for performance optimization\n    38\t- **Background tasks**: APScheduler for automatic feed updates\n    39\t- **API**: RESTful endpoints for tabs, feeds, and feed items\n    40\t\n    41\t### Frontend (Vanilla JavaScript)\n    42\t- **No frameworks** - pure JavaScript, HTML, CSS\n    43\t- **Real-time updates**: Server-Sent Events (SSE) for live feed updates\n    44\t- **UI**: Netvibes/iGoogle-inspired grid layout\n    45\t\n    46\t## Development Environment Setup\n    47\t\n    48\t### Production Deployment (Podman Pod with systemd/Quadlet)\n    49\t- Use `scripts/deploy_pod.sh` for stable deployment\n    50\t- Pod includes: app container, Redis container, persistent volumes\n    51\t- Auto-start configured via systemd user services\n    52\t\n    53\t### Local Development Options\n    54\t1. **Podman containers** with development network\n    55\t2. **Direct backend/frontend** development with virtual environment\n    56\t\n    57\t## Key Configuration Variables\n    58\t- `DATABASE_PATH`: SQLite database file location\n    59\t- `UPDATE_INTERVAL_MINUTES`: Feed update frequency (default: 15)\n    60\t- `CACHE_REDIS_URL`: Redis connection URL\n    61\t\n    62\t## Testing Procedures\n    63\t\n    64\t### Backend Testing\n    65\t1. Start Redis container: `podman run -d --rm --name sheepvibes-test-redis -p 6379:6379 redis:alpine`\n    66\t2. Install dependencies: `cd backend && pip install -r requirements.txt -r requirements-dev.txt`\n    67\t3. Run tests: `python -m pytest -v`\n    68\t\n    69\t### CI/CD Reference\n    70\t- **Definitive guide**: `.github/workflows/run-tests.yml`\n    71\t- **Service containerization**: Redis service with dynamic port mapping\n    72\t- **Environment setup**: Set `CACHE_REDIS_PORT` for dynamic environments\n    73\t\n    74\t## Error Handling and Limitations\n    75\t- **Feed parsing**: Handle timeouts, invalid URLs, bad feed formats\n    76\t- **Database constraints**: Use entry link as GUID to prevent UNIQUE constraint errors\n    77\t\n    78\t## Usage Examples\n    79\tWhen working on this repository, agents must:\n    80\t- Always start by reading all markdown files\n    81\t- Follow the step-by-step validation workflow\n    82\t- Replicate CI environment setup for testing\n    83\t- Update documentation files upon task completion\n    84\t\n    85\t## Important Notes\n    86\t- The repository follows a strict validation-first approach\n    87\t- All changes must be tested and validated before proceeding\n    88\t- Documentation updates are part of the completion criteria\n    89\t\n", "extras": {"path": "/workspace/SheepVibes/.openhands/microagents/sheepvibes-rules.md", "impl_source": "oh_aci"}}